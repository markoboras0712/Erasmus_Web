{"remainingRequest":"C:\\src\\vue-projects\\zavrsni\\node_modules\\babel-loader\\lib\\index.js!C:\\src\\vue-projects\\zavrsni\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\src\\vue-projects\\zavrsni\\src\\store\\modules\\reservations.js","dependencies":[{"path":"C:\\src\\vue-projects\\zavrsni\\src\\store\\modules\\reservations.js","mtime":1601209341225},{"path":"C:\\src\\vue-projects\\zavrsni\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\src\\vue-projects\\zavrsni\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\src\\vue-projects\\zavrsni\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0IG1haW5BeGlvcyBmcm9tICdheGlvcyc7CnZhciBzdGF0ZSA9IHsKICByZXNlcnZhdGlvbnM6IFtdCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgJ1NFVF9SRVNFUlZBVElPTlMnOiBmdW5jdGlvbiBTRVRfUkVTRVJWQVRJT05TKHN0YXRlLCByZXNlcnZhdGlvbnMpIHsKICAgIHN0YXRlLnJlc2VydmF0aW9ucyA9IHJlc2VydmF0aW9uczsKICB9LAogICdTVE9SRV9SRVNFUlZBVElPTic6IGZ1bmN0aW9uIFNUT1JFX1JFU0VSVkFUSU9OKHN0YXRlLCByZXNlcnZhdGlvbikgewogICAgc3RhdGUucmVzZXJ2YXRpb25zLnB1c2gocmVzZXJ2YXRpb24pOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgaW5pdFJlc2VydmF0aW9uczogZnVuY3Rpb24gaW5pdFJlc2VydmF0aW9ucyhfcmVmKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmLnN0YXRlOwogICAgbWFpbkF4aW9zLmdldCgnL3Jlc2VydmF0aW9ucy5qc29uJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICBjb25zb2xlLmxvZygncmV6ZXJ2YWNpamUnKTsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIHZhciByZXNlcnZhdGlvbnMgPSBbXTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgdmFyIHJlc2VydmF0aW9uID0gZGF0YVtrZXldOwogICAgICAgIHJlc2VydmF0aW9uLmlkID0ga2V5OwogICAgICAgIHJlc2VydmF0aW9ucy5wdXNoKHJlc2VydmF0aW9uKTsKICAgICAgfQoKICAgICAgY29tbWl0KCdTRVRfUkVTRVJWQVRJT05TJywgcmVzZXJ2YXRpb25zKTsKICAgICAgY29uc29sZS5sb2coJ3JlemVydmFjaWplIHUgc3RvcmV1Jyk7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnJlc2VydmF0aW9ucyk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBzdG9yZVJlc2VydmF0aW9uOiBmdW5jdGlvbiBzdG9yZVJlc2VydmF0aW9uKF9yZWYyLCByZXNlcnZhdGlvbkRhdGEpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQsCiAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaDsKICAgIGNvbW1pdCgnU1RPUkVfUkVTRVJWQVRJT04nLCByZXNlcnZhdGlvbkRhdGEpOwogIH0KfTsKdmFyIGdldHRlcnMgPSB7CiAgYXBhcnRtZW50UmVzZXJ2YXRpb25zOiBmdW5jdGlvbiBhcGFydG1lbnRSZXNlcnZhdGlvbnMoc3RhdGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaWQpIHsKICAgICAgdmFyIGFwYXJ0bWVudFJlc2VydmF0aW9ucyA9IFtdOwogICAgICBjb25zb2xlLmxvZygnc3RvcmUgcmV6Jyk7CiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLnJlc2VydmF0aW9ucyk7CiAgICAgIGFwYXJ0bWVudFJlc2VydmF0aW9ucyA9IHN0YXRlLnJlc2VydmF0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHJlc2VydmF0aW9uKSB7CiAgICAgICAgcmV0dXJuIHJlc2VydmF0aW9uLmFwYXJ0bWVudElkID09PSBpZDsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCdkb2h2YWNlbmUgcmV6Jyk7CiAgICAgIGNvbnNvbGUubG9nKGFwYXJ0bWVudFJlc2VydmF0aW9ucyk7CiAgICAgIHJldHVybiBhcGFydG1lbnRSZXNlcnZhdGlvbnM7CiAgICB9OwogIH0sCiAgdXNlclJlc2VydmF0aW9uczogZnVuY3Rpb24gdXNlclJlc2VydmF0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChpZCkgewogICAgICByZXR1cm4gc3RhdGUucmVzZXJ2YXRpb25zLmZpbHRlcihmdW5jdGlvbiAocmVzZXJ2YXRpb24pIHsKICAgICAgICB2YXIgZnJvbSA9IG5ldyBEYXRlKHJlc2VydmF0aW9uLmRhdGVzWzBdKS5nZXRUaW1lKCk7CiAgICAgICAgdmFyIGNoZWNrID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgICAgICAgcmV0dXJuIHJlc2VydmF0aW9uLnVzZXJJZCA9PT0gaWQgJiYgZnJvbSA+IGNoZWNrOwogICAgICB9KTsKICAgIH07CiAgfSwKICByZXNlcnZhdGlvbnM6IGZ1bmN0aW9uIHJlc2VydmF0aW9ucyhzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnJlc2VydmF0aW9uczsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["C:/src/vue-projects/zavrsni/src/store/modules/reservations.js"],"names":["mainAxios","state","reservations","mutations","reservation","push","actions","initReservations","commit","get","then","response","data","console","log","key","id","catch","err","storeReservation","reservationData","dispatch","getters","apartmentReservations","filter","apartmentId","userReservations","from","Date","dates","getTime","check","userId"],"mappings":"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","sourcesContent":["import mainAxios from 'axios'\r\n\r\nconst state = {\r\n  reservations: []\r\n}\r\n\r\nconst mutations = {\r\n  'SET_RESERVATIONS' (state, reservations) {\r\n    state.reservations = reservations\r\n  },\r\n  'STORE_RESERVATION' (state, reservation) {\r\n    state.reservations.push(reservation)\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  initReservations ({ commit, state }) {\r\n    mainAxios.get('/reservations.json')\r\n      .then(response => {\r\n        const data = response.data\r\n        console.log('rezervacije')\r\n        console.log(response.data)\r\n\r\n        const reservations = []\r\n        for (const key in data) {\r\n          const reservation = data[key]\r\n          reservation.id = key\r\n          reservations.push(reservation)\r\n        }\r\n        commit('SET_RESERVATIONS', reservations)\r\n        console.log('rezervacije u storeu')\r\n        console.log(state.reservations)\r\n      })\r\n      .catch(err => console.log(err))\r\n  },\r\n  storeReservation ({ commit, dispatch }, reservationData) {\r\n    commit('STORE_RESERVATION', reservationData)\r\n  }\r\n}\r\n\r\nconst getters = {\r\n  apartmentReservations: (state) => (id) => {\r\n    var apartmentReservations = []\r\n    console.log('store rez')\r\n    console.log(state.reservations)\r\n    apartmentReservations = state.reservations.filter(reservation => reservation.apartmentId === id)\r\n    console.log('dohvacene rez')\r\n    console.log(apartmentReservations)\r\n    return apartmentReservations\r\n  },\r\n  userReservations: (state) => (id) => {\r\n    return state.reservations.filter(reservation => {\r\n      const from = new Date(reservation.dates[0]).getTime()\r\n      const check = new Date().getTime()\r\n      return reservation.userId === id && from > check\r\n    })\r\n  },\r\n  reservations (state) {\r\n    return state.reservations\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters\r\n}\r\n"]}]}